sap.ui.define(["sap/m/MessageToast"],function(e){"use strict";var t;var a=this;var o;return{onAfterItemAdded:function(e){debugger;var a=e.getParameter("item");var n=window.location.href;const i=/uuid=([a-fA-F0-9-]+)/;const s=n.match(i);if(s){o=s[1];console.log(o)}else{console.log("Number not found in URL")}var r=async function(e){var a={mediaType:e.getMediaType(),fileName:e.getFileName(),size:e.getFileObject().size,fkey:o};debugger;var n={url:`/odata/v4/catalog/supplier(uuid=${o},IsActiveEntity=false)/invtofil`,method:"POST",headers:{"Content-type":"application/json"},data:JSON.stringify(a)};await new Promise((e,a)=>{debugger;$.ajax(n).done((a,o,n)=>{debugger;t=a.id;e(a)}).fail(e=>{a(e)})})};r(a).then(e=>{debugger;var o=`/odata/v4/catalog/supplierFiles(id=${t},IsActiveEntity=false)/content`;t=null;a.setUploadUrl(o);a.setUrl(o);var n=this.byId("uploadSet");n.setHttpRequestMethod("PUT");n.uploadItem(a)}).catch(e=>{console.log(e)})},onUploadCompleted:function(e){debugger;var t=this.byId("uploadSet");t.removeAllIncompleteItems()},afterItemRemoved:function(e){debugger;const t=/^(.*?),IsActiveEntity=/;let a=e.mParameters.item.mProperties.url.match(t);let o=a[1]+",IsActiveEntity=false)";$.ajax({url:o,method:"DELETE"})},formatThumbnailUrl:function(e){debugger;var t;switch(e){case"image/png":t="sap-icon://card";break;case"text/plain":t="sap-icon://document-text";break;case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":t="sap-icon://excel-attachment";break;case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":t="sap-icon://doc-attachment";break;case"application/pdf":t="sap-icon://pdf-attachment";break;default:t="sap-icon://attachment"}return t}}});