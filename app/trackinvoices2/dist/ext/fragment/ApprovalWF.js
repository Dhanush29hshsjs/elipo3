sap.ui.define(["sap/m/MessageToast"],function(e){"use strict";return{onPress:async function(e){debugger;let t=e.getSource();if(sap.ui.getCore().byId("popover1"))sap.ui.getCore().byId("popover1").destroy();if(e.oSource.getText()=="New"||e.oSource.getText()=="Draft"){var a=new sap.m.Popover("popover1",{resizable:true,title:`${e.oSource.getText()}`,placement:"Left"});a.addContent(new sap.m.MessageStrip({type:"Warning",text:"status will be available once sent for Approval!",showIcon:true}))}else{var o=sap.ui.getCore().byId(e.oSource.oParent.sId).getCells()[0].getText();var n;var s=`/odata/v4/catalog/approvalWorkFlow?$filter=(invoiceNo eq '${o}')`;await $.ajax({url:s,method:"GET",success:function(e){debugger;n=e.value}});n.sort((e,t)=>{parseFloat(e.level)-parseFloat(t.level)});var a=new sap.m.Popover("popover1",{resizable:true,title:`${e.oSource.getText()}`,placement:"Left",contentHeight:"100px",contentWidth:"500px",enableScrolling:true});a.addContent(new sap.m.Table({fixedLayout:false,showSeparators:"All"}));a.mAggregations.content[0].addColumn(new sap.m.Column({width:"70px"}).setHeader(new sap.m.Text({text:"Level"})));a.mAggregations.content[0].addColumn(new sap.m.Column({width:"120px"}).setHeader(new sap.m.Text({text:"Groups"})));a.mAggregations.content[0].addColumn(new sap.m.Column({width:"120px"}).setHeader(new sap.m.Text({text:"Members"})));a.mAggregations.content[0].addColumn(new sap.m.Column({width:"70px"}).setHeader(new sap.m.Text({text:"Status"})));n.forEach(e=>{let t=new sap.m.ColumnListItem;t.addCell(new sap.m.Text({text:`${e.level}`}));t.addCell(new sap.m.Text({text:`${e.groups}`}));t.addCell(new sap.m.Text({text:`${e.members}`}));t.addCell(new sap.m.Text({text:`${e.status}`}));a.mAggregations.content[0].addItem(t)})}a.openBy(t)}}});